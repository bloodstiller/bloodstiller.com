<!DOCTYPE html>
<html lang="en-us">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <meta name="generator" content="Hugo 0.141.0">

    <script src="js/custom.js"></script>
    

    

    
        
            <meta
                name="description"
                content="Bones &amp; All Cyber Security" />
        

        
            <meta
                name="keywords"
                content="hacking, AD, hack the box, HTB, security, pentesting, cybersecurity, pentester, active-directory" />
        

        
            <meta name="author" content="bloodstiller" />
        

    


    <title>
        
            BloodServer: A Secure File Transfer Tool for Penetration Testers |
            Hack the planet
        
    </title>

    


    
    

    
    


    
    


    
    


    
    

    


    
    

    

    

        
            
            <link
                rel="stylesheet"
                href="/reset.min_6107201571472815285.3662e40c85350bf0bcf308b7db81c173e4b690b862d3c3cde460de5155550bf055b7ff48cddb1cf5255e55f0355196d8dec1d49434b2457842cc77ebea198f3f.css"
                integrity="sha512-NmLkDIU1C/C88wi324HBc&#43;S2kLhi08PN5GDeUVVVC/BVt/9Izdsc9SVeVfA1UZbY3sHUlDSyRXhCzHfr6hmPPw==" />
        
            
            <link
                rel="stylesheet"
                href="/_theme/css/01_layout.64370b5236f2e674ebb17408e79404f05d1c6ff7de5628950eb18b15ec63cd07d9697828372ccf6ae36148e595c4ce3a3c9dc4f6239149ec7ddaaf894f59825c.css"
                integrity="sha512-ZDcLUjby5nTrsXQI55QE8F0cb/feViiVDrGLFexjzQfZaXgoNyzPauNhSOWVxM46PJ3E9iORSex92q&#43;JT1mCXA==" />
        
            
            <link
                rel="stylesheet"
                href="/_theme/css/02_style.8484c853cc558c1c2189842f955ad4be9bf66854698f03f140aef3cfc23174c78eb1ab05b915b7877afac7464e5d70d467c87c1fb3fcbe11a75d379de01e0798.css"
                integrity="sha512-hITIU8xVjBwhiYQvlVrUvpv2aFRpjwPxQK7zz8IxdMeOsasFuRW3h3r6x0ZOXXDUZ8h8H7P8vhGnXTed4B4HmA==" />
        
            
            <link
                rel="stylesheet"
                href="/_theme/css/03_home.6d64455a82e28b01e58f3c37541add9e36fc8ed87562dac91ff06da3f7f11b32ac1cacaa593b2ab2e01acd894659f66c249bd0a261f051038f19a8734c3e1243.css"
                integrity="sha512-bWRFWoLiiwHljzw3VBrdnjb8jth1YtrJH/Bto/fxGzKsHKyqWTsqsuAazYlGWfZsJJvQomHwUQOPGahzTD4SQw==" />
        
            
            <link
                rel="stylesheet"
                href="/_theme/css/04_responsive.065451199c1e1cd4f86ac1c8733e3c77eaf215b4972cefff7e7929a2837f5b2cc0e0a04f99f34d58e082812d6102c8cc9b358d21db784e9c4d5e5a8c79f4bc43.css"
                integrity="sha512-BlRRGZweHNT4asHIcz48d&#43;ryFbSXLO//fnkpooN/WyzA4KBPmfNNWOCCgS1hAsjMmzWNIdt4TpxNXlqMefS8Qw==" />
        
            
            <link
                rel="stylesheet"
                href="/_theme/css/05_markdown.9afaac6b0a75a2cd9086fb9684dfae53bd04b90e034a252e123a9822c3fa6a5c8a3f88211159b1bd0c6918d19ed7bf3e929ff12de51d06fab0eea77e2374f967.css"
                integrity="sha512-mvqsawp1os2QhvuWhN&#43;uU70EuQ4DSiUuEjqYIsP6alyKP4ghEVmxvQxpGNGe178&#43;kp/xLeUdBvqw7qd&#43;I3T5Zw==" />
        
            
            <link
                rel="stylesheet"
                href="/_theme/css/06_image.ee39fc51345f4c74b8c491bde29d5b2053688d0cc6e937f5660e0f5e3665212473f4cb408cd1749317343308aa41ef1baca3ec3f3aff986ab3764c822790008f.css"
                integrity="sha512-7jn8UTRfTHS4xJG94p1bIFNojQzG6Tf1Zg4PXjZlISRz9MtAjNF0kxc0MwiqQe8brKPsPzr/mGqzdkyCJ5AAjw==" />
        

    


    
    

    

    

    

    


</head>



    <body>
        <header class="header">
    <div class="header_left">
        
    </div>

    <div class="header_middle">
        
            BloodServer: A Secure File Transfer Tool for Penetration Testers -
            Hack the planet
        
    </div>
</header>



        <main>
            <aside class="sidebar">
    



    
    

    
    


    <ul class="section-tree">
        
            
                <li
                    
                        class="dir closed-dir"
                    >
                    <span class="dir-text"> Walkthroughs </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/escapetwo-box/" title="./walkthroughs/escapetwo-box/">
                        
                            EscapeTwo HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/redpanda-box/" title="./walkthroughs/redpanda-box/">
                        
                            RedPanda HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/sau-box/" title="./walkthroughs/sau-box/">
                        
                            Sau HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/love-box/" title="./walkthroughs/love-box/">
                        
                            Love HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/editorial-box/" title="./walkthroughs/editorial-box/">
                        
                            Editorial HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/doctor-box/" title="./walkthroughs/doctor-box/">
                        
                            Doctor HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/forest-box/" title="./walkthroughs/forest-box/">
                        
                            Forest HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/driver-box/" title="./walkthroughs/driver-box/">
                        
                            Driver HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/timelapse-box/" title="./walkthroughs/timelapse-box/">
                        
                            Timelapse HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/certified-box/" title="./walkthroughs/certified-box/">
                        
                            Certified HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/aero-box/" title="./walkthroughs/aero-box/">
                        
                            Aero HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/administrator-box/" title="./walkthroughs/administrator-box/">
                        
                            Administrator HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/sauna-box/" title="./walkthroughs/sauna-box/">
                        
                            Sauna HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/active-box/" title="./walkthroughs/active-box/">
                        
                            Active HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/cicada-box/" title="./walkthroughs/cicada-box/">
                        
                            Cicada HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/authority-box/" title="./walkthroughs/authority-box/">
                        
                            Authority HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/evilcups-box/" title="./walkthroughs/evilcups-box/">
                        
                            EvilCUPS HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/resolute-box/" title="./walkthroughs/resolute-box/">
                        
                            Resolute HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/fuse-box/" title="./walkthroughs/fuse-box/">
                        
                            Fuse HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/cascade-box/" title="./walkthroughs/cascade-box/">
                        
                            Cascade HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/monteverde-box/" title="./walkthroughs/monteverde-box/">
                        
                            Monteverde HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/outdated-box/" title="./walkthroughs/outdated-box/">
                        
                            Outdated HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/scrambled-box/" title="./walkthroughs/scrambled-box/">
                        
                            Scrambled HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/escape-box/" title="./walkthroughs/escape-box/">
                        
                            Escape HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/hospital-box/" title="./walkthroughs/hospital-box/">
                        
                            Hospital HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/intelligence-box/" title="./walkthroughs/intelligence-box/">
                        
                            Intelligence HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/manager-box/" title="./walkthroughs/manager-box/">
                        
                            Manager HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/access-box/" title="./walkthroughs/access-box/">
                        
                            Access HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/remote-box/" title="./walkthroughs/remote-box/">
                        
                            Remote HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/support-box/" title="./walkthroughs/support-box/">
                        
                            Support HTB Walkthrough
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/walkthroughs/return-box/" title="./walkthroughs/return-box/">
                        
                            Return HTB Walkthrough
                        
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
            
                <li
                    
                        class="dir closed-dir"
                    >
                    <span class="dir-text"> Articles </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/understandingasreproasting/" title="./articles/understandingasreproasting/">
                        
                            Understanding AS-REP Roasting Attacks: A Deep Dive
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/understandingdownloadcradles/" title="./articles/understandingdownloadcradles/">
                        
                            Understanding PowerShell Download Cradles: A Deep Dive
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/understanding2023-28252-clfs/" title="./articles/understanding2023-28252-clfs/">
                        
                            Understanding CVE-2023-28252: Deep Dive into the CLFS Privilege Escalation Vulnerability
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/understandingthemebleedcve-2023-38146/" title="./articles/understandingthemebleedcve-2023-38146/">
                        
                            Understanding CVE-2023-38146: Deep Dive into the ThemeBleed Vulnerability
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/understandingcupsexploitation/" title="./articles/understandingcupsexploitation/">
                        
                            Understanding the CUPS Exploit Chain: A Deep Dive into CVE-2024-4176, CVE-2024-4175, CVE-2024-4177 and CVE-2024-4076
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/understandingnopacexploit/" title="./articles/understandingnopacexploit/">
                        
                            Understanding the NoPac Exploit: A Deep Dive into CVE-2021-42278 and CVE-2021-42287
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/seloaddriverprivilegeescalation/" title="./articles/seloaddriverprivilegeescalation/">
                        
                            Understanding SeLoadDriverPrivilege Escalation: A Deep Dive
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/azureadconnectattack/" title="./articles/azureadconnectattack/">
                        
                            Understanding Azure AD Connect Exploitation &amp; Privilege Escalation
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/shadowcredentialsattack/" title="./articles/shadowcredentialsattack/">
                        
                            Understanding the Shadow Credentials Attack Vector
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/articles/deserializationattacksexplained/" title="./articles/deserializationattacksexplained/">
                        
                            Understanding .NET Deserialization Exploits: A Deep Dive
                        
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
            
                <li
                    
                        class="dir opened-dir"
                    >
                    <span class="dir-text"> Tools </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="http://localhost:1313/tools/ldapire/" title="./tools/ldapire/">
                        
                            LDAPire: LDAP Enumeration Tool
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/tools/automatingqemukalivm/" title="./tools/automatingqemukalivm/">
                        
                            Automating Kali VM Setup with QEMU
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/tools/bloodserver/" title="./tools/bloodserver/">
                        
                            BloodServer: A Secure File Transfer Tool for Penetration Testers
                        
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
            
                <li
                    
                        class="dir closed-dir"
                    >
                    <span class="dir-text"> Cheatsheets </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="http://localhost:1313/cheatsheets/ldap-cheatsheet/" title="./cheatsheets/ldap-cheatsheet/">
                        
                            Attacking LDAP: Deep Dive &amp; Cheatsheet
                        
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/cheatsheets/rpc-cheatsheet/" title="./cheatsheets/rpc-cheatsheet/">
                        
                            Attacking RPC: Deep Dive &amp; Cheat Sheet
                        
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
            
                <li class="file">
                    <a href="http://localhost:1313/aboutme/" title="./aboutme/">
                        
                            about me
                        
                    </a>
                </li>
            
        
    </ul>


</aside>
<aside class="exapandable"></aside>


            
    <article class="main">
        <button
    class="sidebar-toggle-btn"
    type="menu"
    aria-expanded="false"
    aria-haspopup="true">
    <i class="bi bi-list"></i>
</button>



        <div class="title">
            <h1 class="title-header">
                BloodServer: A Secure File Transfer Tool for Penetration Testers
            </h1>

            <div class="author-date-readtime">
                

                    
                        <div class="author" title="Author">
                            <i class="bi bi-person"></i>
                            <a
                                href="/author/bloodstiller/"
                                class="cat-btn">
                                bloodstiller
                            </a>
                        </div>
                    

                

                
                    <div class="date" title="Date">
                        <i class="bi bi-calendar3"></i>
                        <time
                            datetime="2024.17.10"
                            >2024.17.10
                        </time>
                    </div>
                

                
                    <div
                        class="readtime"
                        title="Time to Read">
                        <i class="bi bi-clock"></i>
                        5 mins to read
                    </div>
                
            </div>
        </div>

        <div class="article-meta">
            

            
                <div class="tags">
                    <i
                        class="bi bi-tags"
                        title="Tags"></i>
                    
                        <a
                            href="/tags/active-directory/"
                            class="tag-btn">
                            Active Directory
                        </a>
                    
                        <a
                            href="/tags/windows/"
                            class="tag-btn">
                            Windows
                        </a>
                    
                        <a
                            href="/tags/server/"
                            class="tag-btn">
                            Server
                        </a>
                    
                        <a
                            href="/tags/python/"
                            class="tag-btn">
                            Python
                        </a>
                    
                        <a
                            href="/tags/tools/"
                            class="tag-btn">
                            Tools
                        </a>
                    
                </div>
            

            
                <div class="breadcumb">
                    <i class="bi bi-folder"></i>
                    
    
    




<a href="http://localhost:1313/" class="bread-btn">
    
        <i class="bi bi-house-fill"></i>
    

    
        Home
    
</a>




    /



<a href="http://localhost:1313/tools/" class="bread-btn">
    

    
        Tools
    
</a>




    /



<a href="http://localhost:1313/tools/bloodserver/" class="bread-btn">
    

    
        
            BloodServer: A Secure File Transfer Tool for Penetration Testers
        

    
</a>

                </div>
            

            
        </div>

        
            <nav id="TableOfContents">
  <ul>
    <li><a href="#bloodserver-a-secure-file-transfer-tool-for-penetration-testers">BloodServer: A Secure File Transfer Tool for Penetration Testers</a>
      <ul>
        <li><a href="#key-features">Key Features</a></li>
        <li><a href="#requirements-and-installation">Requirements and Installation</a></li>
        <li><a href="#usage-example">Usage Example</a></li>
        <li><a href="#client-side-file-upload">Client-Side File Upload</a></li>
        <li><a href="#code">Code:</a></li>
        <li><a href="#security-considerations">Security Considerations</a></li>
        <li><a href="#responsible-use">Responsible Use</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>
        


        <div class="content">
            
                <h2 id="bloodserver-a-secure-file-transfer-tool-for-penetration-testers">BloodServer: A Secure File Transfer Tool for Penetration Testers</h2>
<p>As a penetration tester, securely transferring files during engagements is crucial. That&rsquo;s why I developed BloodServer, a lightweight Python-based server designed specifically for pentesters who need a quick and secure way to transfer files in controlled environments.</p>
<p>Feel free to contribute to the project or report issues on my <a href="https://github.com/bloodstiller/bloodserver">GitHub repository</a>.</p>
<h3 id="key-features">Key Features</h3>
<ol>
<li><strong>Easy Setup</strong>: BloodServer can be quickly deployed with minimal configuration.</li>
<li><strong>Authentication</strong>: Basic authentication is built-in to prevent unauthorized access.</li>
<li><strong>HTTPS Support</strong>: Optional HTTPS encryption for secure data transfer.</li>
<li><strong>File Upload Capability</strong>: Allows for easy file uploads via POST requests.</li>
<li><strong>Configurable Options</strong>: Customize port, username, and password via command-line arguments.</li>
<li><strong>Graceful Shutdown</strong>: Stop the server cleanly with a simple keyboard command.</li>
<li><strong>Logging</strong>: Server activities are logged for monitoring and debugging.</li>
</ol>
<h3 id="requirements-and-installation">Requirements and Installation</h3>
<p>BloodServer is lightweight and requires only Python 3.6+ and OpenSSL (for HTTPS support). Installation is as simple as cloning the repository:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/bloodstiller/bloodserver.git
</span></span><span style="display:flex;"><span>cd bloodserver</span></span></code></pre></div>
    
</div>
<p>No additional dependencies are needed as BloodServer uses Python standard library modules.</p>
<h3 id="usage-example">Usage Example</h3>
<p>To start the server with default settings:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="python%20bloodserver.py">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python bloodserver.py</span></span></code></pre></div>
    
</div>
<p>For HTTPS and custom port:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="python%20bloodserver.py%20-p%208443%20--https">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python bloodserver.py -p <span style="color:#ae81ff">8443</span> --https</span></span></code></pre></div>
    
</div>
<p>You can also specify a custom username and password:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="python%20bloodserver.py%20-u%20bloodstiller%20--password%20bl00dst1ll3r%20--https">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python bloodserver.py -u bloodstiller --password bl00dst1ll3r --https</span></span></code></pre></div>
    
</div>
<h3 id="client-side-file-upload">Client-Side File Upload</h3>
<p>BloodServer supports file uploads via POST requests. Here are examples for both Windows (PowerShell) and Linux systems:</p>
<h4 id="powershell--windows">PowerShell (Windows)</h4>
<p>For HTTP:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>$wc = New-Object System.Net.WebClient; $wc.Headers.Add(<span style="color:#e6db74">&#34;Authorization&#34;</span>, <span style="color:#e6db74">&#34;Basic &#34;</span> + [<span style="color:#66d9ef">Convert</span>]::ToBase64String([<span style="color:#66d9ef">Text.Encoding</span>]::ASCII.GetBytes(<span style="color:#e6db74">&#34;username:password&#34;</span>))); <span style="color:#66d9ef">try</span> { $response = $wc.UploadData(<span style="color:#e6db74">&#34;http://serverip:port&#34;</span>, [<span style="color:#66d9ef">System.IO.File</span>]::ReadAllBytes(<span style="color:#e6db74">&#34;path\to\file&#34;</span>)); Write-Host <span style="color:#e6db74">&#34;Server response: </span>$([<span style="color:#66d9ef">System.Text.Encoding</span>]::UTF8.GetString($response))<span style="color:#e6db74">&#34;</span>; Write-Host <span style="color:#e6db74">&#34;File sent successfully!&#34;</span> } <span style="color:#66d9ef">catch</span> { Write-Host <span style="color:#e6db74">&#34;An error occurred: </span>$_<span style="color:#e6db74">&#34;</span> }</span></span></code></pre></div>
    
</div>
<p>For HTTPS (ignoring SSL certificate errors):</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>[<span style="color:#66d9ef">System.Net.ServicePointManager</span>]::ServerCertificateValidationCallback = {$true}; $wc = New-Object System.Net.WebClient; $wc.Headers.Add(<span style="color:#e6db74">&#34;Authorization&#34;</span>, <span style="color:#e6db74">&#34;Basic &#34;</span> + [<span style="color:#66d9ef">Convert</span>]::ToBase64String([<span style="color:#66d9ef">Text.Encoding</span>]::ASCII.GetBytes(<span style="color:#e6db74">&#34;username:password&#34;</span>))); <span style="color:#66d9ef">try</span> { $response = $wc.UploadData(<span style="color:#e6db74">&#34;https://serverip:port&#34;</span>, [<span style="color:#66d9ef">System.IO.File</span>]::ReadAllBytes(<span style="color:#e6db74">&#34;path\to\file&#34;</span>)); Write-Host <span style="color:#e6db74">&#34;Server response: </span>$([<span style="color:#66d9ef">System.Text.Encoding</span>]::UTF8.GetString($response))<span style="color:#e6db74">&#34;</span>; Write-Host <span style="color:#e6db74">&#34;File sent successfully!&#34;</span> } <span style="color:#66d9ef">catch</span> { Write-Host <span style="color:#e6db74">&#34;An error occurred: </span>$_<span style="color:#e6db74">&#34;</span> }</span></span></code></pre></div>
    
</div>
<h4 id="linux">Linux</h4>
<p>For HTTP:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST -u username:password -F <span style="color:#e6db74">&#34;file=@/path/to/your/file&#34;</span> http://serverip:port</span></span></code></pre></div>
    
</div>
<p>For HTTPS (ignoring SSL certificate errors):</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST -u username:password -F <span style="color:#e6db74">&#34;file=@/path/to/your/file&#34;</span> -k https://serverip:port</span></span></code></pre></div>
    
</div>
<p>Replace <code>username</code>, <code>password</code>, <code>/path/to/your/file</code>, <code>serverip</code>, and <code>port</code> with your specific values.</p>
<h3 id="code">Code:</h3>
<p>I have placed the code here for convenience.</p>


  
    
      <pre><code>import http.server
import socketserver
import os
import logging
import ssl
import base64
import argparse
from urllib.parse import urlparse
import random
import string
import threading
import time

# Configure logging to track server activities
logging.basicConfig(level=logging.INFO, format=&#39;%(asctime)s - %(levelname)s - %(message)s&#39;)

def generate_password(length=8):
    &#34;&#34;&#34;Generate a random password of specified length&#34;&#34;&#34;
    characters = string.ascii_letters &#43; string.digits &#43; string.punctuation
    return &#39;&#39;.join(random.choice(characters) for _ in range(length))

class AuthHandler(http.server.SimpleHTTPRequestHandler):
    def __init__(self, *args, **kwargs):
        # Extract username and password from kwargs, or use defaults
        self.username = kwargs.pop(&#39;username&#39;, &#39;admin&#39;)
        self.password = kwargs.pop(&#39;password&#39;, generate_password())
        super().__init__(*args, **kwargs)

    def do_AUTHHEAD(self):
        &#34;&#34;&#34;Send authentication request header&#34;&#34;&#34;
        self.send_response(401)
        self.send_header(&#39;WWW-Authenticate&#39;, &#39;Basic realm=&#34;Test&#34;&#39;)
        self.send_header(&#39;Content-type&#39;, &#39;text/html&#39;)
        self.end_headers()

    def do_POST(self):
        &#34;&#34;&#34;Handle POST requests (file uploads)&#34;&#34;&#34;
        # Check for authentication
        auth = self.headers.get(&#39;Authorization&#39;)
        if auth is None:
            self.do_AUTHHEAD()
            self.wfile.write(b&#39;No auth header received&#39;)
            return
        elif not self.authenticate(auth):
            self.do_AUTHHEAD()
            self.wfile.write(b&#39;Invalid credentials&#39;)
            return

        try:
            # Read and process the uploaded file
            content_length = int(self.headers[&#39;Content-Length&#39;])
            post_data = self.rfile.read(content_length)
            
            parsed_path = urlparse(self.path)
            path = parsed_path.path.lstrip(&#39;/&#39;)
            
            if not path:
                path = &#39;uploaded_file&#39;  # Default filename if none provided
            
            # Ensure the path is safe (prevent directory traversal)
            path = os.path.basename(path)
            
            # Save the uploaded file
            with open(path, &#39;wb&#39;) as file:
                file.write(post_data)
            
            # Send success response
            self.send_response(200)
            self.send_header(&#39;Content-type&#39;, &#39;text/plain&#39;)
            self.end_headers()
            success_message = f&#34;File received and saved successfully: {path} ({content_length} bytes)&#34;
            self.wfile.write(success_message.encode(&#39;utf-8&#39;))
            
            # Log the successful upload
            logging.info(success_message)
            print(success_message)  # Print to console as well
        except Exception as e:
            # Handle and log any errors
            error_message = f&#34;Error processing request: {str(e)}&#34;
            logging.error(error_message)
            print(error_message)  # Print to console as well
            self.send_error(500, error_message)

    def do_GET(self):
        &#34;&#34;&#34;Handle GET requests&#34;&#34;&#34;
        # Check for authentication
        auth = self.headers.get(&#39;Authorization&#39;)
        if auth is None:
            self.do_AUTHHEAD()
            self.wfile.write(b&#39;No auth header received&#39;)
        elif self.authenticate(auth):
            self.send_response(200)
            self.send_header(&#39;Content-type&#39;, &#39;text/html&#39;)
            self.end_headers()
            self.wfile.write(b&#34;Server is running&#34;)
        else:
            self.do_AUTHHEAD()
            self.wfile.write(b&#39;Invalid credentials&#39;)

    def authenticate(self, auth_header):
        &#34;&#34;&#34;Authenticate the user&#34;&#34;&#34;
        auth_decoded = base64.b64decode(auth_header.split()[1]).decode(&#39;ascii&#39;)
        username, password = auth_decoded.split(&#39;:&#39;)
        return username == self.username and password == self.password

class ThreadedHTTPServer(socketserver.ThreadingMixIn, http.server.HTTPServer):
    &#34;&#34;&#34;Handle requests in a separate thread.&#34;&#34;&#34;

def run_server(port=9999, use_https=False, username=&#39;admin&#39;, password=None):
    &#34;&#34;&#34;Run the server with specified configuration&#34;&#34;&#34;
    global httpd
    if password is None:
        password = generate_password()
        print(f&#34;Generated password: {password}&#34;)
    
    print(f&#34;Username: {username}&#34;)
    print(f&#34;Password: {password}&#34;)

    handler = lambda *args, **kwargs: AuthHandler(*args, username=username, password=password, **kwargs)

    if use_https:
        # Set up HTTPS server
        if not os.path.exists(&#39;server.pem&#39;):
            os.system(&#39;openssl req -new -x509 -keyout server.pem -out server.pem -days 365 -nodes -subj &#34;/CN=localhost&#34;&#39;)
        
        httpd = ThreadedHTTPServer((&#34;&#34;, port), handler)
        context = ssl.SSLContext(ssl.PROTOCOL_TLS_SERVER)
        context.load_cert_chain(&#39;server.pem&#39;)
        httpd.socket = context.wrap_socket(httpd.socket, server_side=True)
        logging.info(f&#34;Serving HTTPS on port {port}&#34;)
    else:
        # Set up HTTP server
        httpd = ThreadedHTTPServer((&#34;&#34;, port), handler)
        logging.info(f&#34;Serving HTTP on port {port}&#34;)

    # Start the server in a separate thread
    server_thread = threading.Thread(target=httpd.serve_forever)
    server_thread.daemon = True
    server_thread.start()

    print(&#34;Press &#39;Q&#39; to stop the server.&#34;)
    while True:
        if input().strip().lower() == &#39;q&#39;:
            print(&#34;Stopping the server...&#34;)
            httpd.shutdown()
            break
        time.sleep(0.1)

    httpd.server_close()
    print(&#34;Server stopped.&#34;)

if __name__ == &#34;__main__&#34;:
    # Set up command-line argument parsing
    parser = argparse.ArgumentParser(description=&#34;Simple secure web server&#34;)
    parser.add_argument(&#39;-p&#39;, &#39;--port&#39;, type=int, default=9999, help=&#34;Port to run the server on (default: 9999)&#34;)
    parser.add_argument(&#39;--https&#39;, action=&#39;store_true&#39;, help=&#34;Enable HTTPS&#34;)
    parser.add_argument(&#39;-u&#39;, &#39;--username&#39;, type=str, default=&#39;admin&#39;, help=&#34;Username for authentication&#34;)
    parser.add_argument(&#39;--password&#39;, type=str, help=&#34;Password for authentication&#34;)
    args = parser.parse_args()

    # Run the server with provided arguments
    run_server(port=args.port, use_https=args.https, username=args.username, password=args.password)
</code></pre>
    
  


<h3 id="security-considerations">Security Considerations</h3>
<p>While BloodServer provides basic security features, it&rsquo;s important to note:</p>
<ul>
<li>It&rsquo;s designed for temporary use in controlled environments only.</li>
<li>Always use HTTPS in production environments.</li>
<li>The default self-signed certificate is not suitable for production. Use a proper SSL certificate from a trusted CA.</li>
<li>Regularly update the authentication credentials.</li>
<li>Be cautious when using commands that ignore SSL certificate errors, as they bypass security checks.</li>
</ul>
<h3 id="responsible-use">Responsible Use</h3>
<p>BloodServer is a tool for professional penetration testers and should only be used in environments where you have explicit permission. Misuse of this tool could lead to security vulnerabilities if deployed in inappropriate settings.</p>
<h3 id="conclusion">Conclusion</h3>
<p>BloodServer aims to fill a niche need for penetration testers who require a quick, secure file transfer solution during engagements. While it&rsquo;s a powerful tool in the right hands, always remember the importance of responsible use and adherence to security best practices.</p>
<p>Feel free to contribute to the project or report issues on my <a href="https://github.com/bloodstiller/bloodserver">GitHub repository</a>.</p>
<p>Happy hacking!</p>
<p>Bloodstiller</p>

            
        </div>
    </article>

        </main>

        <footer class="footer">
    <div class="footer-left">
        <ul class="social">
            
                <li>All Rights Reserved ®.</li>
            

            
                <li>Bloodstiller</li>
            

            
                
            
                
            
                
                    <li>
                        
                            <a href="https://github.com/bloodstiller" target="_blank">
                                <i class="bi-github"></i>
                            </a>
                        

                    </li>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </ul>
    </div>

    <div class="footer-right">
        <ul class="control status clearfix">
            
                <li>
                    
                        Word Count:
                        1008
                    
                </li>
            


            
                <li>en</li>
            

            

            

            
                <li>
                    
                        Last modified: &nbsp;
                        <time>
                            Oct 17 2024 00:00:00
                        </time>
                    
                </li>
            

            
        </ul>
    </div>
</footer>


        
        <script src="/js/custom.js"></script>
    </body>

    






















    
        
        <script
            type="text/javascript"
            src="/_theme/js/codeblock_copy.c59588ba3a219dafab515508b0bcd2d0592dc9e0e08de20dc1983bfd8cb69d03d37c78eadd81ee7bef724570f9e4286d9ea1c53ca59d3711c0bcad9e9134d0e9.js"
            integrity="sha512-xZWIujohna&#43;rUVUIsLzS0FktyeDgjeINwZg7/Yy2nQPTfHjq3YHue&#43;9yRXD55ChtnqHFPKWdNxHAvK2ekTTQ6Q=="></script>
    
        
        <script
            type="text/javascript"
            src="/_theme/js/custom.e55ae031ca7d8c1e9bde9a72058dd382e3de5ff9b7df41d6d0e4ccb82ff9962e74b4865412dc15db16e5f16012d5cf9e2330b9826a3a36d5a272077f70e1341b.js"
            integrity="sha512-5VrgMcp9jB6b3ppyBY3TguPeX/m330HW0OTMuC/5li50tIZUEtwV2xbl8WAS1c&#43;eIzC5gmo6NtWicgd/cOE0Gw=="></script>
    
        
        <script
            type="text/javascript"
            src="/_theme/js/dir_toggle.e6f8c63f3ed9aefa9cedb3be3d5ab67e00bc3cf87a8dd7ef1ed55d642e9a7d80837636a26ae77f967f2aa74a44ae70c4134e25abca587f048c60807ba9e9c82f.js"
            integrity="sha512-5vjGPz7Zrvqc7bO&#43;PVq2fgC8PPh6jdfvHtVdZC6afYCDdjaiaud/ln8qp0pErnDEE04lq8pYfwSMYIB7qenILw=="></script>
    
        
        <script
            type="text/javascript"
            src="/_theme/js/sidebar.01b59c615736643387108a100de70c51d5e98477bdc338244a87d37f7e38286b48683459eade68087f0688f0235e7a48691e633954fa930d41823e9ddf797085.js"
            integrity="sha512-AbWcYVc2ZDOHEIoQDecMUdXphHe9wzgkSofTf344KGtIaDRZ6t5oCH8GiPAjXnpIaR5jOVT6kw1Bgj6d33lwhQ=="></script>
    















<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />




</html>
